{% load static %}

<!DOCTYPE html> 
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>Agrogen | Meet</title>
        <link rel = "stylesheet" href = "{% static 'fonts/css/all.min.css' %}"/>
        <link rel = "stylesheet" href = "{% static 'dark/meet.css' %}"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <script src="https://sdk.netless.link/white-web-sdk/2.15.16.js"></script>
        <script src = "{% static 'qr_code/qrcode.js' %}"></script>
        <script src = "{% static 'AgoraRTC_N-4.10.2.js' %}" type = "text/javascript"></script>
        <script src = "{% static 'meet.js' %}" type = "text/javascript" defer></script>
    </head>
    <body>
        <div id = "main" data-username = "{{ request.user.username }}">
            <div id = "navbar">
                <h3>Agrogen</h3>
            </div>
            <div id = "container">
                <div class = "loader_holder">
                    <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>
                    <p class = "text">Preparing session....</p>
                </div>
                <div id = "meeting_tools">
                    <button style = "border-bottom: 2px solid rgba(0,0,200,0.6);" onclick = "open_classroom(this)">classroom</button>
                    <button onclick = "open_whiteboard(this)">whiteboard</button>
                    <button onclick = "open_meet_info(this)">meet info</button>
                </div>
                <div id = "participants">
                    
                </div>
                <div id = "hosts">
                    
                </div>
                <div id = "options" onblur = "close_options()" data-channel = "{{ request.user.user_token }}">
                    <button onclick = "get_link(this)"><i class = "fas fa-link"></i> Get invite link</button>
                    <button class = 'raise_hands' onclick = "show_hands()" data-hands = "0"><i class = "fas fa-hand-paper"></i> All hands <span id = "all_hands">0</span></button>
                    <button onclick = "show_qrcode()"><i class = "fas fa-qrcode"></i> Show QR Code</button>
                    <button onclick = "record_meeting(this)"><i class = "fas fa-record-vinyl"></i> Record meeting</button>
                    <button onclick = "open_whiteboard(this)"><i class = "fas fa-chalkboard"></i> Whiteboard</button>
                    <button onclick = "UploadedFiles()"><i class = "fas fa-file"></i> Uploaded files</button>
                </div> 
                <div id = "whiteboard_container">
                    <div id="whiteboard" data-meeting_token = "{{ request.meeting_token }}">
                    </div>
                    <div id = "tools">
                        <button onclick = "cliker()"><i class = "fas fa-mouse-pointer"></i></button>
                        <button onclick = "eraser()"><i class = "fas fa-eraser"></i></button>
                        <button onclick = "pen()"><i class = "fas fa-pen"></i></button>
                        <button onclick = "hand()"><i class = "far fa-hand-paper"></i></button>
                        <button style = "font-weight: bold; font-size: 22px;" onclick = "text()">T</button>
                        <button onclick = "upload_image()"><i class = "fas fa-image"></i></button>
                        <button onclick = "clearBoard()"><i class = "fas fa-broom"></i></button>
                    </div>
                </div>
                <div id = "meeting_info">
                    <div class = "first_child">
                        <h3>Meeting passcode is <span>{{ request.meeting_passcode }}</span></h3>
                        <div class = "invite_link">
                            <input type = "text" value = "{{ meeting_link }}" placeholder = "meeting invite_link"/>
                            <button onclick = "copy_link(this)"><i class = "far fa-copy"></i></button>
                        </div>
                        <div class = "joined_users">
                            <h4>Participants</h4>
                        </div>
                    </div>
                </div>
            </div>
            <div id= "controls">
                <button data-name = "chats" onclick = "open_chats()"><i class = "far fa-comments"></i></button>
                <button data-name = "record" onclick = "record_meeting(this)"><i class = "fas fa-record-vinyl"></i></button>
                <button data-name = "enable" onclick = "handle_camera(this)"><i class = "fas fa-video-slash"></i></button>
                <button data-name = "unmute" onclick = "handle_audio(this)"><i class = "fas fa-microphone-slash"></i></button>
                <button data-name = "raise" onclick = "raise_hand(this)"><i class = "far fa-hand-paper"></i></button>
                <button data-name = "users" onclick = "view_users()" id = "all_users"><i class = "fas fa-users"></i></button>
                <button data-name = "share" onclick = "screen_sharing(this)"><i class = "fas fa-laptop"></i></button>
                <button style = "color: white; background-color: rgba(255, 0, 0, 0.726);" onclick = "leaveAndRemoveLocalStream()" data-name = "leave"><i class = "fas fa-stop"></i></button>
            </div>
        </div>
        <div id = "livechat">
            <div id = "headers">
              <h3>Live chat</h3>
              <button onclick = "close_comments()"><i class = "fas fa-times"></i></button>
            </div>
            <div class = "chats">
                <i class = "fas fa-users background-icon"></i>
            </div>
            <div class = "entries">
                <input type = "file" onchange = "sendFile(this)" id = "photo" hidden/>
                <button onclick = "getImage()"><i class = "fas fa-paperclip"></i></button>
                <input type = "text" placeholder = "Enter your message here..." onkeypress = "add_comment_by_enter(event)"/>
                <button onclick = "add_comment(this)"><i class = "far fa-paper-plane"></i></button>
            </div>
        </div>
    </body>
</html>